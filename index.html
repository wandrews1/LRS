<html>
 <head>
  <title>Simple TinCanJS Example</title>
  <script src="tincan.js"></script>
  <script>
    var lrs;

    try {
        lrs = new TinCan.LRS(
            {
                endpoint: "https://wsandrews10.waxlrs.com/TCAPI/",
                username: "7b4kqlPzN1WtaKyNaMc9",
                password: "o2xoi8ZbbZOSkga6xWnc",
                allowFail: false
            }
        );
    }
    catch (ex) {
        console.log("Failed to setup LRS object: ", ex);
        // TODO: do something with error, can't communicate with LRS
    }


	var statement = new TinCan.Statement(
        {
            actor: {
                mbox: "mailto:wsandrews10@gmail.com"
            },
            verb: {
                id: "http://adlnet.gov/expapi/verbs/experienced"
            },
            target: {
                id: "http://rusticisoftware.github.com/TinCanJS"
            }
        }
    );


    lrs.saveStatement(
        statement,
        {
            callback: function (err, xhr) {
                if (err !== null) {
                    if (xhr !== null) {
                        console.log("Failed to save statement: " + xhr.responseText + " (" + xhr.status + ")");
                        // TODO: do something with error, didn't save statement
                        return;
                    }

                    console.log("Failed to save statement: " + err);
                    // TODO: do something with error, didn't save statement
                    return;
                }

                console.log("Statement saved");
                // TOOO: do something with success (possibly ignore)
            }
        }
    );


  </script>

 </head>
 <body>
  Hello Worlds.
 </body>
</html>
